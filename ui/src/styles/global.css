@import './tokens.css';
@import './responsive.css';

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
  height: 100%; background: var(--bg); color: var(--text);
  font-family: 'Quicksand', -apple-system, BlinkMacSystemFont, "SF Pro Display", system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  touch-action: manipulation; user-select: none;
}

body {
  display: flex; flex-direction: column;
  overflow: hidden; height: 100dvh;
}

#root {
  display: flex; flex-direction: column;
  height: 100%; overflow: hidden;
}

/* Film grain overlay */
body::after {
  content: ''; position: fixed; inset: 0; z-index: 9999;
  pointer-events: none; opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
}

/* Shared animations */
@keyframes breathe {
  0%, 100% { opacity: 1; transform: scale(1); box-shadow: 0 0 0 0 rgba(107,200,155,0.4); }
  50% { opacity: 0.85; transform: scale(1.15); box-shadow: 0 0 8px 2px rgba(107,200,155,0.2); }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes cardAppear {
  0% { opacity: 0; transform: scale(0.92) translateY(8px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}

.pgm-hud-card {
  animation: cardAppear 350ms var(--ease-decel) forwards;
}

@keyframes toastLife {
  0% { opacity: 0; transform: translateY(8px); }
  8% { opacity: 1; transform: translateY(0); }
  80% { opacity: 1; }
  100% { opacity: 0; transform: translateY(-4px); }
}

@keyframes toastSlideUp {
  0% { opacity: 0; transform: translateY(12px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes bannerSlideDown {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(0); }
}

@keyframes reconnectFlash {
  0% { opacity: 0; transform: translateY(-100%); }
  10% { opacity: 1; transform: translateY(0); }
  70% { opacity: 1; }
  100% { opacity: 0; transform: translateY(-8px); }
}

@keyframes micPulse {
  0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(196,92,82,0.4); }
  50% { transform: scale(1.08); box-shadow: 0 0 16px 4px rgba(196,92,82,0.25); }
}

@keyframes pillFloat {
  0%, 100% { transform: translateY(0); opacity: 1; }
  50% { transform: translateY(-2px); opacity: 0.7; }
}

@keyframes arrowFlash {
  0% { opacity: 0.7; transform: translateY(-50%) scale(1); }
  50% { opacity: 0.5; transform: translateY(-50%) scale(1.15); }
  100% { opacity: 0; transform: translateY(-50%) scale(1.2); }
}

@keyframes valuePulse {
  0% { filter: brightness(1); transform: scale(1); }
  30% { filter: brightness(1.6); transform: scale(1.12); }
  100% { filter: brightness(1); transform: scale(1); }
}

@keyframes btnGlow {
  0% { box-shadow: 0 6px 8px -2px currentColor; filter: brightness(1.1); }
  30% { box-shadow: 0 0 16px 3px currentColor, 0 -4px 12px -2px currentColor; filter: brightness(1.5); }
  100% { box-shadow: none; filter: brightness(1); }
}

.pulse-value { animation: valuePulse 500ms var(--ease) forwards; }
.pulse-btn { animation: btnGlow 500ms var(--ease) forwards; }
